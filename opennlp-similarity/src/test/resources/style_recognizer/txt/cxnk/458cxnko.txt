
There are a few operations applied to all frames . First the raw frame may be displayed . [ general/_DISPLAY_FRAME_IMAGE_ ] Recipes remove any AXIS and blank TITLE components ; the latter to preserve the object name when NDFs are exported to FITS . Next they set the origin of the frame so that frame pixels retain the detector pixel indices . It then becomes possible to use a full-sized bad-pixel mask or flat field on any subset of a detector 's pixel grid . [ _REMOVE_AXES_ , _REMOVE_BLANK_TITLE_ , _SET_ORIGIN_ ] Then recipes determine the displacements of the reference pixel with respect to the centre of the frame and stores the displacements in the referenceoffset calibration system . The reference pixel is where a star would be placed for photometry or the centre of a chopped and nodded pattern . [ _SET_REFERENCE_PIXEL_OFFSET_ , _GET_FRAME_CENTRE_ ] The next step is to switch on history recording . It is recommended to leave this enabled , since it provides a record of the processing steps of your final mosaics . Otherwise the pipeline becomes something of a black box . Use the KAPPA command hislist to list the history records . [ _TURN_ON_HISTORY_ ] For Michelle there is a validation check of the waveform used , comparing the waveform name given in the headers with other metadata , and recipes issue a warning if there is an inconsistency . Also the data range is validated to be between 25000-48000 . [ MICHELLE/_CHECK_WAVEFORM_ , MICHELLE/_VALIDATE_RAW_DATA_ ] For UFTI there is data validation , such that a warning is issued if the clipped mean sky level is below 24 counts per second in K band and 32 counts per second in H . [ UFTI/_CHECK_SKY_COUNTS_ , UFTI/_VALIDATE_RAW_DATA_ ] For UIST data taken before 2002 December 2 and Michelle , raw data units are converted from ADU per second to the UKIRT standard of total ADU per exposure . [ instrument /_INSTRUMENT_HELLO_ , UIST/_DATA_UNITS_TO_ADU_ ] A night log is created or appended in $ ORAC_DATA_OUT for each frame processed . This tabulates the main parameters of the observation having first corrected defective or undefined headers . [ _NIGHT_LOG_ , UIST/_NIGHT_LOG_ , instrument /_FIX_HEADERS_ for Classic Cam , IRCAM , MICHELLE , NIRI , and UFTI ] 